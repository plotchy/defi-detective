---
import type { Brand } from '../types/Brand'

import pcaData from '../../../data/pca.json'
import DotPlot from '../components/LayerCake/DotPlot.svelte'


type ProjectName = Brand<string, 'ProjectName'>

const normalizePcaData = (data: Record<ProjectName, [number, number]>) => (
	Object.entries(data)
		.map(([name, [x, y]]) => ({
			x,
			y,
			name,
		}))
)
---


<section>
	<DotPlot
		client:visible
		data={normalizePcaData(pcaData)}
	/>
</section>


<style>
	section {
		display: grid;
		gap: 1rem;
		padding: 1.5rem;

		background-color: rgba(255, 255, 255, 0.25);
		border-radius: 1rem;
		box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.075);

		transition: 0.4s;
	}
</style>
